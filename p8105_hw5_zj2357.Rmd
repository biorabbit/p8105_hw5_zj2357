---
title: "p8105_hw5_zj2357"
author: "Zekai Jin"
date: "2022-11-05"
output: github_document
---

First of all, we should include  the libraries we are using and prepare the dataset.
```{r init, message=FALSE}
library(tidyverse)
knitr::opts_chunk$set(
  message  = FALSE,
  warning = FALSE,
  fig.width = 8, 
  fig.height = 6,
  out.width = "90%"
)
```

# Problem 1
read and tidy the data
```{r}
f_names = list.files("data", pattern = "(exp|con)_\\d\\d.csv")

joined_df = 
  map_dfr(str_c("data/",f_names),read_csv) %>%
  mutate(
    id = str_replace(f_names, ".csv", ""),
    group = as.factor(str_replace(f_names, "_\\d\\d.csv", ""))
  ) %>%
  select(id, group, everything()) %>%
  pivot_longer(
    week_1:week_8,
    names_to = "week",
    names_prefix = "week_",
    values_to = value
  ) %>%
  mutate(week=as.numeric(week))

write_csv(joined_df, "data/tidy/result.csv")
```

making a plot
```{r}

```



